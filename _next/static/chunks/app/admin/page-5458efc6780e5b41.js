(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1366:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},4213:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},4485:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5155),a=s(2115),l=s(4213),d=s(9946);let c=(0,d.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var n=s(1366);let i=(0,d.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),o=(0,d.A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,d.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function m(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[g,p]=(0,a.useState)(null),u=["developer-tools-guide","nextjs-blog-optimization","css-grid-vs-flexbox","typescript-best-practices","react-hooks-guide","test-relative-time"];(0,a.useEffect)(()=>{y()},[]);let y=async()=>{d(!0),h(null);try{let e=u.map(async e=>{var t;let[s,r]=await Promise.all([fetch("/api/comments/".concat(e)).catch(()=>null),fetch("/api/likes/".concat(e),{method:"PUT"}).catch(()=>null)]),a=(null==s?void 0:s.ok)?await s.json():{comments:[],count:0},l=(null==r?void 0:r.ok)?await r.json():{count:0,userLikes:[]};return{slug:e,comments:a.comments||[],commentCount:a.count||0,likes:l.count||0,likeUsers:(null==(t=l.userLikes)?void 0:t.length)||0}}),s=await Promise.all(e);t(s.filter(e=>e.commentCount>0||e.likes>0))}catch(e){h(e instanceof Error?e.message:"데이터 로드 실패")}finally{d(!1)}},k=async(e,t)=>{if(confirm("정말로 이 댓글을 삭제하시겠습니까?"))try{let s=await fetch("/api/comments/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({commentId:t})});if(s.ok)await y(),alert("댓글이 삭제되었습니다.");else{let e=await s.json();alert(e.error||"삭제 실패")}}catch(e){alert("삭제 중 오류가 발생했습니다.")}},b=e.reduce((e,t)=>({totalComments:e.totalComments+t.commentCount,totalLikes:e.totalLikes+t.likes,totalBlogs:e.totalBlogs+ +(t.commentCount>0||t.likes>0)}),{totalComments:0,totalLikes:0,totalBlogs:0});return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.A,{className:"w-8 h-8 text-purple-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"블로그 데이터 관리"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Vercel KV에 저장된 댓글과 좋아요 데이터를 확인하고 관리합니다"})]})]}),(0,r.jsxs)("button",{onClick:y,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors",children:[(0,r.jsx)(c,{className:"w-4 h-4 ".concat(s?"animate-spin":"")}),"새로고침"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(n.A,{className:"w-8 h-8 text-blue-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:b.totalComments}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"총 댓글 수"})]})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(i,{className:"w-8 h-8 text-red-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:b.totalLikes}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"총 좋아요 수"})]})]})}),(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.A,{className:"w-8 h-8 text-green-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:b.totalBlogs}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"활성 블로그 글"})]})]})})]}),m&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,r.jsxs)("p",{className:"text-red-700 dark:text-red-300",children:["⚠️ ",m]})}),(0,r.jsx)("div",{className:"space-y-6",children:s?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"데이터를 불러오는 중..."})]}):e.length>0?e.map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.slug}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(n.A,{className:"w-4 h-4"}),"댓글 ",e.commentCount,"개"]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(i,{className:"w-4 h-4"}),"좋아요 ",e.likes,"개"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("a",{href:"/blog/".concat(e.slug),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1 text-sm text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300",children:[(0,r.jsx)(o,{className:"w-4 h-4"}),"글 보기"]}),(0,r.jsx)("button",{onClick:()=>p(g===e.slug?null:e.slug),className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:g===e.slug?"접기":"상세보기"})]})]})}),g===e.slug&&e.comments.length>0&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-4",children:"댓글 목록"}),(0,r.jsx)("div",{className:"space-y-4",children:e.comments.map(t=>(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.author}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:new Date(t.timestamp).toLocaleString("ko-KR")}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{className:"font-mono text-xs",children:["IP: ",t.userIP]})]}),(0,r.jsx)("button",{onClick:()=>k(e.slug,t.id),className:"p-1 text-red-500 hover:text-red-700 transition-colors",title:"댓글 삭제",children:(0,r.jsx)(x,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.content})]},t.id))})]})]},e.slug)):(0,r.jsx)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"아직 저장된 데이터가 없습니다. 댓글이나 좋아요를 추가해보세요!"})}),(0,r.jsxs)("div",{className:"mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCA1 데이터 확인 방법"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Vercel 대시보드"}),": Dashboard → Storage → KV → Data 탭"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"이 관리자 페이지"}),": 실시간으로 댓글과 좋아요 확인"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"API 직접 호출"}),": ",(0,r.jsx)("code",{children:"/api/comments/[slug]"}),", ",(0,r.jsx)("code",{children:"/api/likes/[slug]"})]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"개발자 도구"}),": 브라우저에서 Network 탭으로 API 응답 확인"]})]})]})]})})}},7756:(e,t,s)=>{Promise.resolve().then(s.bind(s,4485))},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(2115);let a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:t,...l,width:d,height:d,stroke:s,strokeWidth:n?24*Number(c)/Number(d):c,className:a("lucide",i),...m},[...x.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{className:c,...n}=s;return(0,r.createElement)(d,{ref:l,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),c),...n})});return s.displayName="".concat(e),s}}},e=>{e.O(0,[441,964,358],()=>e(e.s=7756)),_N_E=e.O()}]);