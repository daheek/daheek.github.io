(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:(e,t,s)=>{"use strict";s.d(t,{D:()=>n,ThemeProvider:()=>i});var r=s(5155),a=s(2115);let l=(0,a.createContext)({theme:"system",setTheme:()=>null,actualTheme:"light"});function i(e){let{children:t,defaultTheme:s="system",storageKey:i="dahee-blog-theme",...n}=e,[d,m]=(0,a.useState)(s),[o,c]=(0,a.useState)("light"),[h,u]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{u(!0);let e=localStorage.getItem(i);e&&m(e)},[i]),(0,a.useEffect)(()=>{if(!h)return;let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===d){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t),c(t);return}e.classList.add(d),c(d)},[d,h]),(0,a.useEffect)(()=>{if(!h||"system"!==d)return;let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{let t=e.matches?"dark":"light";c(t);let s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[d,h]),h)?(0,r.jsx)(l.Provider,{...n,value:{theme:d,setTheme:e=>{localStorage.setItem(i,e),m(e)},actualTheme:o},children:t}):(0,r.jsx)(r.Fragment,{children:t})}let n=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},2588:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9324,23)),Promise.resolve().then(s.bind(s,347))},9324:()=>{}},e=>{e.O(0,[533,441,964,358],()=>e(e.s=2588)),_N_E=e.O()}]);